# pollingSystem
A basic polling system 

## Project Layout
The project should look similar to this.
```
├── README.md
├── client
│   ├── package-lock.json
│   ├── package.json
│   ├── public
│   │   ├── index.html
│   │   ├── manifest.json
│   │   └── robots.txt
│   └── src
│       ├── App.css
│       ├── App.js
│       ├── App.test.js
│       ├── components
│       │   ├── DialogForm.js
│       │   ├── LandingPage.js
│       │   ├── Polls.js
│       │   └── Visualization.js
│       ├── index.css
│       ├── index.js
│       ├── logo.svg
│       ├── reportWebVitals.js
│       └── setupTests.js
├── init-db.py
└── server
    ├── __init__.py
    ├── app.py
    ├── poll_template.py
    └── polls.db
```
The project is split up into `client/` and `server/`. The `client/` directory contains the client-side code which is run from within the directory using `npm start`. The `server/` directory contains the server-side code which is run from within the directory using `flask run` or `python3 app.py`.
Under `server/`, `polls.db` would be autogenerated with the script `init-db.py` which generated the sqlite3 database.

## Dependencies and setup

### Client Side
The client-side dependencies are 
```
@material-ui/core v4.11.1
@material-ui/pickers v3.2.10
date-fns v2.16.1
@date-io/date-fns v1.3.13
react v17.0.1
react-dom v17.0.1
react-router-dom v5.2.0
react-scripts v4.0.1
recharts v1.8.5
```
Libraries used are:
- [ReactJS](https://reactjs.org/)
- [React Router](https://reactrouter.com/)
- [Material UI](https://material-ui.com/)
- [date-fns](https://date-fns.org/)
- [date-io](https://github.com/dmtrKovalenko/date-io)
- [recharts](http://recharts.org/en-US/)

The dependencies are installed using
```
cd client && npm install
```

### Server Side
The server side dependencies are
```
Flask v1.1.2
Flask-SQLAlchemy v2.4.4
python-dotenv v0.15.0
```

Libraries used are
- [Flask](https://flask.palletsprojects.com/en/1.1.x/)
- [Flask-SQLAlchemy](https://flask-sqlalchemy.palletsprojects.com/en/2.x/#)
- [python-dotenv](https://pypi.org/project/python-dotenv/)

The dependencies are installed using
```
cd server && pip3 install -r .
```

# The Client

The client has a few main components. The `App.js` is the main file which handles rendering and routing all components. 
Under the `components/` directory, `LandingPage.js` handles the first component to be rendered.
`DialogForm.js` handles rendering the pop up form and submitting the form with a POST request to the backend.
`Visualization.js` handles getting the data from the backend, displaying the line and bar chats via a GET request to the backend.
`Polls.js` handles displaying the data in the form of a table via a GET request to the backend.

# The Server

In the server, the `__init__.py` initialized the Flask-SQLAlchemy database. `poll_template.py` contains a class `Entry` which is an ORM that handles the GET and POST for the table and form respectively. The main file `app.py` handles the requests.